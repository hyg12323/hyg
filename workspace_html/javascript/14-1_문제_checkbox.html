<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!--
    문제 1
        여러개의 checkbox이 있을 때
        선택 버튼을 클릭하면
        선택한 토핑의 값을 따로 출력

       
    문제2
      전체 선택을 구현하시오
       문제2-1
          전체 선택 체크 시 모두 선택
          전체 선택 체크 해제 시 모두 선택 해제
        문제2-2
          전체 선택 후 하나라도 해제되면 전제 선택도 해제
          전체 선택이 해제 된 경우에도 모든 요소 선택 시 전체 선택 체크
    -->

    <div>
         피자토핑 
         <hr>
        <input type="checkbox" class="chk_all">전체선택<br>

        <input type="checkbox" class="chk" value="페페로니">페페로니
        <input type="checkbox" class="chk" value="베이컨">베이컨
        <input type="checkbox" class="chk" value="치즈">치즈
        <input type="checkbox" class="chk" value="파인애플">파인애플
        <input type="checkbox" class="chk" value="버섯">버섯
        <input type="checkbox" class="chk" value="옥수수">옥수수
        <br>
        <input type="button" class="bt" value="선택">
    </div>
    <div class="text">
        토핑 : <span id="topping"></span>
    </div>

    <script>
        document.querySelector('[type=button]')
        .addEventListener('click',()=>{ //클릭은 해결
            //선택한 토핑의 값을 따로 출력
            // 1.선택한 토핑들을 가져오기
            // let list_chk = document.querySelectorAll('.chk:checked')
            let topping = document.querySelector('#topping')
            
            let list_chk = document.querySelectorAll('.chk')
            for(let i=0; i<list_chk.length; i++){
                // console.log(i,list_chk[i].checked)
                if(list_chk[i].checked == true){
                     console.log(list_chk[i].value)
                     // 2.값을 출력
                     topping.innerText += list_chk[i].value + ','
                }
            //  list_chk[i].checked
            }   
            
            
        })
        // 전체 선택 구현
        // 전체 선택 체크 시 모두 선택
        // 전체 선택 체크 했을 "때"(이벤트라고 생각하면 좋다)
        document.querySelector('.chk_all').addEventListener('click',()=>{
            // console.log(123)
            //전체 선택 체크"라면"
            let list_chk = document.querySelectorAll('.chk')
            
            if(document.querySelector('.chk_all').checked){

                // 모두 선택 
            for(let i=0; i<list_chk.length; i++){  
                 list_chk[i].checked = true;
        }
        } else {
            // 모두 해제
            for(let i=0; i<list_chk.length; i++){  
                 list_chk[i].checked = false;
        }
            }    
        })


        // 문제2-2
        //   전체 선택 후 하나라도 해제되면 전제 선택도 해제
         let list_chk = document.querySelectorAll('.chk')

        // list_chk = document.querySelector('click', ()=>) //이건안됨

         for(let i=0; i<list_chk.length; i++){
            list_chk[i].addEventListener('click', ()=>{
                // 내가 선택 해제 되었다면
                if(!list_chk[i].checked){
                  document.querySelector('.chk_all').checked = false;
                // 전체 선택이 해제 된 경우에도 모든 요소 선택 시 전체 선택 체크
                
                // 내가 선택이 되었다면
                // 전체 개수와 체크된 개수를 비교해서 
                // 같으면 전체선택 체크 
                } else if (list_chk[i].checked){
                    let list_chk_y = document.querySelectorAll('.chk:checked')

                if(list_chk.length == list_chk_y.length){
                 document.querySelector('.chk_all').checked = true;

                    }
                
                }
            })
         }
      
      // 1단계 
      // 신청 버튼 누르면 input의 글씨가 아래에 쌓인다
     
        
      // 2단계 
      // 주문정보와 같음 버튼을 누르면 주문자의 정보가 배송 정보로 복사됨
     
      // 3단계
      // 메뉴가 여러개일 때 선택한 메뉴만 특이하게 보이게
       
      // 4단계
      // 썸네일 클릭 또는 mouseover 시 큰 그림 변경 및 유지

      // 5단계
      // 피자 주문 시스템
      // 사이즈, 토핑, 도우를 선택한 정보 한번에 표시
       // ui 피자 주문

      //  사이즈 radio
      //   토핑 checkbox
      // 도우종류  select
      // 주문  
      // 주문 정보

      // 6번
      //TODO
      // 추가 버튼 클릭 : input 내용 추가
      // 할일 체크하면 할일 클씨 취소선
      // 할일 삭제하면 할일 삭제
      // 전체선택 구현
      // 선택취소 구현
    </script>
</body>
</html>